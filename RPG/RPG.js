var game = new JSGame('#game');var map = {    "town": {        "connects_to": ["forest", "farm", "mountains"],        "description": "a nice town"    },     "forest": {        "connects_to": ["town", "farm", "mountains"],        "description": "dark forest"    },    "farm": {        "connects_to": ["town", "forest"],        "description": "farm"    },    "mountains": {        "connects_to": ["town", "forest", "caves", "clouds"],        "description": "many tall ginormous mountains"    },    "caves": {        "connects_to": ["mountains", "hell"],        "description": "a deep dark cave"    },    "hell": {        "connects_to": ["caves"],        "description": "the hell, duh"    },    "clouds": {        "connects_to": ["mountains", "heaven"],        "description": "a clouds, fluffy white clouds in the sky"    },    "heaven": {        "connects_to": ["clouds"],        "description": "heaven, duh"    }}var go_to_place_or_inventory = function(input) {    if (input === "inventory") {        check_inventory();        new_place = game.state.location;  // reuse the last location        game.print("You are at the " + new_place);        game.wait_for_text(_.union(map[new_place]["connects_to"], ["inventory"])).then(go_to_place_or_inventory);    } else if (input === "fight"){        fight(game.state.xp);    } else if (input === "run"){        game.print("You ran from the boar and didn't gain any xp. You are at the " + new_place);        game.wait_for_text(_.union(map[new_place]["connects_to"], ["inventory"])).then(go_to_place_or_inventory);    } else {        other(input);    }}  var start = function() {    game.print("You are a adventurer going on a adventure");    game.print("Where would you like to go? You are at the town and have a sword");    game.wait_for_text(_.union(map["town"]["connects_to"], ["inventory"])).then(go_to_place_or_inventory);}var check_inventory = function() {    if (game.state.inventory.length == 0) {        game.print("You have nothing at all!");    } else {    	game.print("You have: ")        game.print("    " + game.state.inventory[i]);    }}setInterval(game.displayInventory, 10)game.state.questList = [];game.state.inventory = ["sword"];game.state.meetFarm = false;game.state.location = "town";game.state.xp = 0;start()